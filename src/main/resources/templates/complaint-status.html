<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Complaint Status</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family:'Poppins',sans-serif; background:#0e0e0e; color:#fff; padding:40px; }
        table { width:100%; border-collapse: collapse; margin-top:20px; }
        th, td { padding:12px; border-bottom:1px solid rgba(255,255,255,0.2); text-align:left; }
        th { color: #00B5B5; }
        tr:hover { background: rgba(255,255,255,0.05); }
        .status-PENDING { color: #FF6E2F; font-weight:600; }
        .status-RESOLVED { color: #00B5B5; font-weight:600; }
    </style>
</head>
<body>

<h1>Your Complaint Status</h1>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Village</th>
        <th>Area</th>
        <th>Issue</th>
        <th>Status</th>
        <th>Latitude</th>
        <th>Longitude</th>
        <th>Image</th>
        <th>Video</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="complaint : ${complaints}">
        <td th:text="${complaint.id}"></td>
        <td th:text="${complaint.villageName}"></td>
        <td th:text="${complaint.areaName}"></td>
        <td th:text="${complaint.issueDescription}"></td>
        <td th:text="${complaint.status}"
            th:classappend="'status-' + ${complaint.status}"></td>
        <td th:text="${complaint.latitude}"></td>
        <td th:text="${complaint.longitude}"></td>
        <td>
            <a th:if="${complaint.imagePath != null}"
               th:href="@{'/uploads/' + ${complaint.imagePath}}"
               target="_blank">View</a>
        </td>

        <td>
            <a th:if="${complaint.videoPath != null}"
               th:href="@{${complaint.videoPath}}" target="_blank">View</a>
        </td>
    </tr>
    </tbody>
</table>

</body>
</html>
