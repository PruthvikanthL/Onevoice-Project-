<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Events & News - One Voice</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family:'Poppins',sans-serif; background:#0e0e0e; color:#fff; padding:40px 20px; position:relative; }
    h1 { color:#00B5B5; margin-bottom:20px; text-align:center; }

    /* Filter */
    .filter { margin-bottom:20px; text-align:center; }
    input[type=date], button { padding:8px 12px; border-radius:8px; border:none; margin-right:8px; }
    button { background:#00B5B5; cursor:pointer; color:#fff; font-weight:600; }

    /* Post link button */
    .post-link {
      display:inline-block;
      margin:20px auto;
      padding:10px 20px;
      border-radius:10px;
      background:#00B5B5;
      color:#fff;
      font-weight:600;
      text-decoration:none;
      text-align:center;
      transition:0.3s;
    }
    .post-link:hover { transform:scale(1.05); }

    /* Event cards */
    .event {
      background: rgba(255,255,255,0.05);
      padding:20px;
      margin-bottom:20px;
      border-radius:16px;
      position:relative;
      overflow:hidden;
      transition: transform 0.3s;
      max-width:700px;
      margin-left:auto;
      margin-right:auto;
    }
    .event:hover { transform: scale(1.02); }
    .event img { max-width:200px; border-radius:10px; display:block; margin-top:10px; }
    .status-upcoming { color:#FF6E2F; font-weight:700; }
    .status-done { color:#00B5B5; font-weight:700; }

    /* Floating emojis */
    .emoji { position:absolute; font-size:32px; opacity:0.1; animation: float 8s linear infinite; }
    @keyframes float {
        0% { transform: translateY(100%) rotate(0deg); opacity:0.1; }
        50% { opacity:0.3; }
        100% { transform: translateY(-50%) rotate(360deg); opacity:0.1; }
    }
  </style>
</head>
<body>

<h1>Events & News</h1>


<div class="filter">
  <form method="get" action="/events">
    <input type="date" name="date" th:value="${filterDate}">
    <button type="submit">Filter</button>
  </form>
</div>


<a href="/events/postEventPage" class="post-link">+ Post New Event / News</a>


<div th:each="event : ${events}" class="event">
  <span class="emoji" style="top:10%; left:5%;">ðŸŽ‰</span>
  <span class="emoji" style="top:20%; left:80%;">ðŸ“¢</span>
  <span class="emoji" style="top:60%; left:30%;">ðŸ§¹</span>
  <span class="emoji" style="top:50%; left:60%;">ðŸª£</span>

  <h2 th:text="${event.title}"></h2>
  <p th:text="${event.description}"></p>
  <p>Date: <span th:text="${event.eventDate}"></span> | Status:
    <span th:if="${event.status=='UPCOMING'}" class="status-upcoming">Upcoming</span>
    <span th:if="${event.status=='DONE'}" class="status-done">Done</span>
  </p>
  <img th:if="${event.imagePath!=null}" th:src="@{'/' + ${event.imagePath}}" alt="Event Image">
  <p>Posted by: <span th:text="${event.postedBy}"></span></p>
</div>

</body>
</html>
